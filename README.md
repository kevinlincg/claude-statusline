# Claude Statusline (Go ç‰ˆæœ¬)

é€™æ˜¯ä¸€å€‹ç”¨æ–¼ Claude Code è‡ªå®šç¾©ç‹€æ…‹æ¬„çš„ Go ç¨‹å¼ã€‚å®ƒå¯ä»¥é¡¯ç¤ºç›®å‰çš„æ¨¡å‹ã€Git åˆ†æ”¯ã€å°ˆæ¡ˆåç¨±ã€Session æŒçºŒæ™‚é–“ä»¥åŠ API ä½¿ç”¨é‡çµ±è¨ˆã€‚

## é è¦½

ç‹€æ…‹æ¬„ç”±ä¸‰è¡Œçµ„æˆï¼Œä»¥ä¸‹æ˜¯ç¯„ä¾‹è¼¸å‡ºï¼š

```
[ğŸ’  Claude Sonnet 4] ğŸ“‚ my-project âš¡ main | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 45% 90k | 2h35m
â”‚ â±ï¸ Session â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 32% â†»3:45pm | ğŸ“… Week â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 12% â†»1/25 3pm
â”‚ ğŸ”¤45.2k ğŸ’°$0.135 â±ï¸25m ğŸ’¬12 | ğŸ”¥$0.32/hr | ğŸ“†$1.25/ğŸ’µ$12.50 | ğŸ“¦75%
```

### å„å€å¡Šèªªæ˜

#### ç¬¬ä¸€è¡Œï¼šåŸºæœ¬è³‡è¨Š
| å€å¡Š | ç¯„ä¾‹ | èªªæ˜ |
|------|------|------|
| **æ¨¡å‹é¡¯ç¤º** | `[ğŸ’  Claude Sonnet 4]` | ç›®å‰ä½¿ç”¨çš„ Claude æ¨¡å‹ï¼ˆğŸ’› Opus / ğŸ’  Sonnet / ğŸŒ¸ Haikuï¼‰ |
| **å°ˆæ¡ˆåç¨±** | `ğŸ“‚ my-project` | ç›®å‰å·¥ä½œç›®éŒ„çš„è³‡æ–™å¤¾åç¨± |
| **Git åˆ†æ”¯** | `âš¡ main [+2/~3]` | ç›®å‰çš„ Git åˆ†æ”¯èˆ‡ç‹€æ…‹ï¼ˆ+å·²æš«å­˜/~æœªæš«å­˜ï¼Œè‹¥ä¸åœ¨ Git å°ˆæ¡ˆå‰‡ä¸é¡¯ç¤ºï¼‰ |
| **Context é€²åº¦æ¢** | `â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 45% 90k` | Context Window ä½¿ç”¨é‡ï¼ˆç¶ è‰² <60% / é‡‘è‰² 60-80% / ç´…è‰² >80%ï¼‰ |
| **æ¯æ—¥å·¥æ™‚** | `2h35m` | ä»Šæ—¥æ‰€æœ‰ Session çš„ç´¯ç©å·¥ä½œæ™‚é–“ |

#### ç¬¬äºŒè¡Œï¼šAPI ç”¨é‡é™åˆ¶
| å€å¡Š | ç¯„ä¾‹ | èªªæ˜ |
|------|------|------|
| **Session ç”¨é‡** | `â±ï¸ Session â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 32% â†»3:45pm` | 5 å°æ™‚å…§çš„ API ä½¿ç”¨ç‡èˆ‡é‡ç½®æ™‚é–“ |
| **Week ç”¨é‡** | `ğŸ“… Week â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 12% â†»1/25 3pm` | 7 å¤©å…§çš„ API ä½¿ç”¨ç‡èˆ‡é‡ç½®æ™‚é–“ |

> é€²åº¦æ¢é¡è‰²æœƒæ ¹æ“šä½¿ç”¨ç‡è®ŠåŒ–ï¼šç¶ è‰² (<50%) â†’ é»ƒè‰² (50-75%) â†’ æ©˜è‰² (75-90%) â†’ ç´…è‰² (>90%)

#### ç¬¬ä¸‰è¡Œï¼šæœ¬æ¬¡ Session çµ±è¨ˆèˆ‡æˆæœ¬åˆ†æ
| å€å¡Š | ç¯„ä¾‹ | èªªæ˜ |
|------|------|------|
| **Token ä½¿ç”¨é‡** | `ğŸ”¤45.2k` | æœ¬æ¬¡ Session ç´¯ç©ä½¿ç”¨çš„ Token æ•¸é‡ |
| **æˆæœ¬ä¼°ç®—** | `ğŸ’°$0.135` | æœ¬æ¬¡ Session çš„é ä¼°æˆæœ¬ (USD) |
| **Session æ™‚é•·** | `â±ï¸25m` | æœ¬æ¬¡ Session çš„æŒçºŒæ™‚é–“ |
| **è¨Šæ¯æ•¸é‡** | `ğŸ’¬12` | æœ¬æ¬¡ Session çš„å°è©±è¨Šæ¯æ•¸é‡ |
| **ç‡’éŒ¢é€Ÿåº¦** | `ğŸ”¥$0.32/hr` | ä»Šæ—¥å¹³å‡æ¯å°æ™‚èŠ±è²» |
| **ä»Šæ—¥/é€±æˆæœ¬** | `ğŸ“†$1.25/ğŸ’µ$12.50` | ä»Šæ—¥ç´¯ç©æˆæœ¬èˆ‡æœ¬é€±ç´¯ç©æˆæœ¬ |
| **Cache å‘½ä¸­ç‡** | `ğŸ“¦75%` | Cache read tokens ä½”ç¸½ input tokens çš„æ¯”ä¾‹ï¼ˆç¶ è‰² â‰¥70% / é»ƒè‰² 40-70% / æ©˜è‰² <40%ï¼‰ |

## å®‰è£èˆ‡ç·¨è­¯

### å‰ç½®éœ€æ±‚

- Go 1.18 æˆ–æ›´é«˜ç‰ˆæœ¬
- macOSï¼ˆä½¿ç”¨ Keychain å­˜å– OAuth Tokenï¼‰

### æ­¥é©Ÿ 1ï¼šä¸‹è¼‰å°ˆæ¡ˆ

```bash
# ä½¿ç”¨ git clone
git clone https://github.com/kevinlincg/claude-statusline.git ~/.claude/statusline-go

# æˆ–æ‰‹å‹•ä¸‹è¼‰å¾Œæ”¾åˆ° ~/.claude/statusline-go
```

### æ­¥é©Ÿ 2ï¼šç·¨è­¯ç¨‹å¼

```bash
cd ~/.claude/statusline-go
go build -o statusline statusline.go
```

### æ­¥é©Ÿ 3ï¼šé…ç½® Claude Code

ç·¨è¼¯ä½ çš„ `~/.claude/settings.json`ï¼ŒåŠ å…¥ä»¥ä¸‹è¨­å®šï¼š

```json
{
  "statusLine": {
    "type": "command",
    "command": "/Users/your-username/.claude/statusline-go/statusline"
  }
}
```

> [!IMPORTANT]
> è«‹ç¢ºä¿å°‡ `/Users/your-username/` æ›¿æ›ç‚ºä½ å¯¦éš›çš„ä½¿ç”¨è€…ç›®éŒ„è·¯å¾‘ã€‚
> å¯ä½¿ç”¨ `echo $HOME` æˆ– `whoami` ç¢ºèªä½ çš„ä½¿ç”¨è€…åç¨±ã€‚

### æ­¥é©Ÿ 4ï¼šé‡æ–°å•Ÿå‹• Claude Code

è¨­å®šå®Œæˆå¾Œï¼Œè«‹é‡æ–°å•Ÿå‹• Claude Code ä»¥è¼‰å…¥è‡ªå®šç¾©ç‹€æ…‹æ¬„ã€‚

## API ä½¿ç”¨é‡ç›£æ§

æ­¤ç¨‹å¼æœƒè‡ªå‹•å¾ Anthropic API ç²å–ä½ çš„ä½¿ç”¨é‡è³‡è¨Šã€‚å®ƒé€é macOS Keychain ä¸­å„²å­˜çš„ OAuth Token é€²è¡Œèªè­‰ï¼Œé€™å€‹ Token æ˜¯ Claude Code è‡ªå‹•å„²å­˜çš„ï¼Œä½ ä¸éœ€è¦é¡å¤–è¨­å®šã€‚

## æœ¬åœ°è³‡æ–™å„²å­˜

æœ¬ç¨‹å¼æœƒåœ¨ä»¥ä¸‹è·¯å¾‘å„²å­˜çµ±è¨ˆè³‡æ–™ï¼š

| è·¯å¾‘ | èªªæ˜ |
|------|------|
| `~/.claude/session-tracker/sessions/` | å€‹åˆ¥ Session çš„æ™‚é–“èˆ‡è³‡è¨Š |
| `~/.claude/session-tracker/stats/` | æ¯æ—¥èˆ‡æ¯é€±çš„ Token ä½¿ç”¨çµ±è¨ˆ |

## å¯è€ƒæ…®æ–°å¢çš„åŠŸèƒ½

ä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥è€ƒæ…®åŠ å…¥çš„é¡å¤–åŠŸèƒ½ï¼š

### ğŸŒ ç¶²è·¯èˆ‡ç³»çµ±ç‹€æ…‹
- **ç¶²è·¯å»¶é²**ï¼šé¡¯ç¤ºèˆ‡ Anthropic API çš„ ping å»¶é²
- **CPU/Memory ä½¿ç”¨ç‡**ï¼šé¡¯ç¤ºç³»çµ±è³‡æºä½¿ç”¨ç‹€æ³
- **é›»æ± ç‹€æ…‹**ï¼šé¡¯ç¤ºç­†é›»é›»é‡èˆ‡å……é›»ç‹€æ…‹

### ğŸ“Š æ›´å¤šçµ±è¨ˆè³‡è¨Š
- **å¹³å‡å›æ‡‰ Token**ï¼šæ¯æ¬¡å›æ‡‰çš„å¹³å‡ Token æ•¸
- **å¹³å‡å›æ‡‰å»¶é²**ï¼šAPI å›æ‡‰çš„å¹³å‡æ™‚é–“

### ğŸ”” é€šçŸ¥èˆ‡è­¦å‘Š
- **ç”¨é‡è­¦å‘Š**ï¼šç•¶ API ç”¨é‡è¶…éé–¾å€¼æ™‚è®Šè‰²æˆ–é–ƒçˆ
- **é•·å°è©±è­¦å‘Š**ï¼šç•¶ Context ä½¿ç”¨é‡è¶…é 80% æ™‚æé†’
- **Session è¶…æ™‚**ï¼šç•¶ Session æŒçºŒéä¹…æ™‚æé†’ä¼‘æ¯

### ğŸ¨ è¦–è¦ºå¢å¼·
- **ä¸»é¡Œåˆ‡æ›**ï¼šæ”¯æ´äº®è‰²/æš—è‰²ä¸»é¡Œ
- **è‡ªå®šç¾©é¡è‰²**ï¼šå…è¨±ä½¿ç”¨è€…è‡ªè¨‚å„å€å¡Šé¡è‰²
- **å‹•æ…‹åœ–ç¤º**ï¼šæ ¹æ“šç‹€æ…‹è®Šæ›åœ–ç¤º

### ğŸ’¡ å…¶ä»–å¯¦ç”¨åŠŸèƒ½
- **Git é ˜å…ˆ/è½å¾Œç‹€æ…‹**ï¼šé¡¯ç¤ºæœ¬åœ°åˆ†æ”¯é ˜å…ˆæˆ–è½å¾Œé ç«¯å¤šå°‘ commitsï¼ˆä¾‹å¦‚ï¼š`â†‘2â†“3`ï¼‰
- **å¤©æ°£è³‡è¨Š**ï¼šé¡¯ç¤ºç•¶åœ°å¤©æ°£
- **Pomodoro è¨ˆæ™‚å™¨**ï¼šå…§å»ºç•ªèŒ„å·¥ä½œæ³•è¨ˆæ™‚
- **å¿«æ·éµæç¤º**ï¼šé¡¯ç¤ºå¸¸ç”¨å¿«æ·éµ

## æˆæœ¬è¨ˆç®—å…¬å¼

æœ¬ç¨‹å¼ä½¿ç”¨ä»¥ä¸‹å…¬å¼è¨ˆç®— API æˆæœ¬ï¼š

```
ç¸½æˆæœ¬ = (Input Tokens Ã— Input Price / 1,000,000)
       + (Output Tokens Ã— Output Price / 1,000,000)
       + (Cache Read Tokens Ã— Cache Read Price / 1,000,000)
       + (Cache Write Tokens Ã— Cache Write Price / 1,000,000)
```

### ç›®å‰ä½¿ç”¨çš„å®šåƒ¹ï¼ˆPer Million Tokensï¼‰

| æ¨¡å‹ | Input | Output | Cache Read | Cache Write (5m) |
|------|-------|--------|------------|------------------|
| **Opus** | $5.00 | $25.00 | $0.50 | $6.25 |
| **Sonnet** | $3.00 | $15.00 | $0.30 | $3.75 |
| **Haiku** | $1.00 | $5.00 | $0.10 | $1.25 |

> å®šåƒ¹æ›´æ–°æ–¼ 2026 å¹´ 1 æœˆï¼Œé©ç”¨æ–¼ Opus 4.5ã€Sonnet 4/4.5ã€Haiku 4.5

### Anthropic å®˜æ–¹å®šåƒ¹åƒè€ƒ

| æ¨¡å‹ | Input | Output | Cache Read | Cache Write (5m) |
|------|-------|--------|------------|------------------|
| **Opus 4.5** | $5.00 | $25.00 | $0.50 | $6.25 |
| **Opus 4.1/4** | $15.00 | $75.00 | $1.50 | $18.75 |
| **Sonnet 4.5/4** | $3.00 | $15.00 | $0.30 | $3.75 |
| **Haiku 4.5** | $1.00 | $5.00 | $0.10 | $1.25 |
| **Haiku 3.5** | $0.80 | $4.00 | $0.08 | $1.00 |
| **Haiku 3** | $0.25 | $1.25 | $0.03 | $0.30 |

å®˜æ–¹å®šåƒ¹é é¢ï¼š[Anthropic Pricing](https://platform.claude.com/docs/en/about-claude/pricing)

## æˆæ¬Š

MIT License
